<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Central de Atendimento</title>

<style>
body { font-family: Arial, sans-serif; margin:0; background:#f4f4f4; }
header { background:#2f3e46; color:#fff; padding:14px; text-align:center; font-weight:bold; }

.tabs { display:flex; background:#cad2c5; }
.tab { padding:10px 16px; cursor:pointer; border-right:1px solid #999; }
.tab.active { background:#fff; font-weight:bold; }

.content {
  display:none;
  padding:16px;
  background:#fff;
  height:calc(100vh - 90px);
  overflow-y:auto;
}
.content.active { display:block; }

label { font-weight:bold; display:block; margin-top:10px; }
input, textarea {
  width:100%; padding:8px; margin-top:4px; box-sizing:border-box;
}
textarea { resize:vertical; }

button { padding:10px; margin-top:10px; cursor:pointer; }
.btn-full {
  width:100%;
  background:#2f3e46;
  color:#fff;
  border:none;
  font-weight:bold;
}

.form-box {
  border:1px solid #ccc;
  padding:12px;
  margin-top:12px;
}

.small-box {
  background:#eee;
  padding:10px;
  margin-bottom:10px;
  font-size:13px;
}
</style>
</head>

<body>

<header>CENTRAL DE ATENDIMENTO</header>

<div class="tabs">
  <div class="tab active" onclick="openTab(event,'comentarios')">Comentários</div>
  <div class="tab" onclick="openTab(event,'paralelas')">Paralelas</div>
  <div class="tab" onclick="openTab(event,'os')">O.S.</div>
</div>

<!-- ================= COMENTÁRIOS ================= -->
<div id="comentarios" class="content active">

  <label>Canal</label>
  <select id="canal">
    <option>CALL CENTER</option>
    <option>LOJA</option>
  </select>

  <label>Protocolo</label>
  <input id="protocolo" oninput="gerarComentario()">

  <label>Comentário</label>
  <textarea id="comentario" rows="4"></textarea>

  <button class="btn-full" onclick="copiarComentario()">COPIAR COMENTÁRIO</button>
</div>

<!-- ================= PARALELAS ================= -->
<div id="paralelas" class="content">

  <div class="small-box">
    <b>SUPERVISORES</b><br>
    kleber.filho@aeparceiros.com.br<br>
    victoria.ferreira@aeparceiros.com.br<br>
    barbara.piva@aeparceiros.com.br
  </div>

  <button onclick="abrirForm('cancelamento')">Cancelamento de solicitação</button>
  <button onclick="abrirForm('pipa')">Caminhão Pipa</button>
  <button onclick="abrirForm('retificacao')">Retificação fora do prazo</button>
  <button onclick="abrirForm('debito')">Bloquear débito em conta</button>
  <button onclick="abrirForm('exclusao')">Exclusão cadastro site/app</button>
  <button onclick="abrirForm('religacao')">Religação corte indevido</button>

  <div id="formParalela"></div>
</div>

<!-- ================= O.S. ================= -->
<div id="os" class="content">

  <label>Tipo de O.S.</label>
  <select id="os_tipo" onchange="carregarOS()">
    <option value="">Selecione</option>
    <option value="troca_mov">Troca de titularidade com movimentação</option>
  </select>

  <div id="os_campos"></div>

  <label>Texto da O.S.</label>
  <textarea id="os_texto" rows="10"></textarea>

  <button class="btn-full" onclick="copiarOS()">COPIAR O.S.</button>
</div>

<script>
function openTab(evt,id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  evt.target.classList.add('active');
  document.getElementById(id).classList.add('active');
}

/* COMENTÁRIOS */
function gerarComentario(){
  const canal = canal.value;
  const p = protocolo.value.trim();
  if (!p) return;
  comentario.value = `${canal} PROTOCOLO: ${p} - `;
}
function copiarComentario(){
  navigator.clipboard.writeText(comentario.value.toUpperCase());
}

/* PARALELAS (FORMS) */
function abrirForm(tipo){
  const div = document.getElementById("formParalela");
  let html = `<div class="form-box">`;

  if (tipo === "cancelamento") {
    html += `
      <b>ASSUNTO: CANCELAMENTO DE SOLICITAÇÃO</b>
      <label>Matrícula</label><input>
      <label>Cidade</label><input>
      <label>Protocolo</label><input>
      <label>Serviço</label><input>
      <label>Nº Solicitação</label><input>
      <label>Motivo</label><input>
    `;
  }

  if (tipo === "pipa") {
    html += `
      <b>ASSUNTO: CAMINHÃO PIPA</b>
      <label>Protocolo</label><input>
      <label>Bairro</label><input>
      <label>Cidade</label><input>
      <label>Matrícula</label><input>
      <label>Endereço</label><input>
    `;
  }

  html += `
    <label>Texto gerado</label>
    <textarea rows="6"></textarea>
    <button class="btn-full" onclick="copiarParalela()">COPIAR</button>
  </div>`;

  div.innerHTML = html;
}

function copiarParalela(){
  const t = document.querySelector("#formParalela textarea").value;
  navigator.clipboard.writeText(t);
}

/* O.S. */
function carregarOS(){
  const div = document.getElementById("os_campos");
  div.innerHTML = `
    <label>MATRÍCULA</label><input>
    <label>CIDADE</label><input>
    <label>NOVO TITULAR</label><input>
    <label>CPF DO NOVO TITULAR</label><input>
    <label>DATA DA MOVIMENTAÇÃO</label><input>
    <label>OBSERVAÇÕES</label><input>
  `;
  atualizarOSTexto();
}

document.addEventListener("input", e=>{
  if (e.target.closest("#os")) atualizarOSTexto();
});

function atualizarOSTexto(){
  let texto = "TROCA DE TITULARIDADE COM MOVIMENTAÇÃO\n\n";
  document.querySelectorAll("#os_campos input").forEach(i=>{
    texto += i.previousElementSibling.innerText + ": " + i.value + "\n";
  });
  os_texto.value = texto.toUpperCase();
}

function copiarOS(){
  navigator.clipboard.writeText(os_texto.value);
}
</script>

</body>
</html>
