<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Central de Atendimento</title>

<style>
body { font-family: Arial, sans-serif; margin:0; background:#f4f4f4; }
header { background:#2f3e46; color:#fff; padding:14px; text-align:center; font-weight:bold; }

.tabs { display:flex; background:#cad2c5; }
.tab { padding:10px 16px; cursor:pointer; border-right:1px solid #999; }
.tab.active { background:#fff; font-weight:bold; }

.content {
  display:none;
  padding:16px;
  background:#fff;
  height:calc(100vh - 90px);
  overflow-y:auto;
}
.content.active { display:block; }

.grid { display:grid; grid-template-columns:1fr; gap:10px; }

button {
  padding:12px;
  cursor:pointer;
  font-size:14px;
}

label {
  font-weight:bold;
  display:block;
  margin-top:10px;
}

input, textarea {
  width:100%;
  padding:8px;
  margin-top:4px;
  box-sizing:border-box;
}

textarea { resize:vertical; }

.btn-full {
  width:100%;
  margin-top:14px;
  background:#2f3e46;
  color:#fff;
  border:none;
  font-weight:bold;
}
</style>
</head>

<body>

<header>CENTRAL DE ATENDIMENTO</header>

<div class="tabs">
  <div class="tab active" onclick="openTab(event,'comentarios')">Comentários</div>
  <div class="tab" onclick="openTab(event,'paralelas')">Paralelas</div>
</div>

<!-- ================= COMENTÁRIOS ================= -->
<div id="comentarios" class="content active">

  <label>Tipo de atendimento</label>
  <select id="tipo" onchange="atualizarPrefixo()">
    <option value="CALL CENTER">Call Center</option>
    <option value="LOJA">Loja</option>
  </select>

  <label>Protocolo</label>
  <input id="protocolo" placeholder="Digite o protocolo" oninput="gerarInicio()">

  <label>Comentário</label>
  <textarea id="comentario" rows="4"
    placeholder="Digite ou complete o comentário"></textarea>

  <button class="btn-full" onclick="copiarComentario()">COPIAR COMENTÁRIO</button>

</div>

<!-- ================= PARALELAS ================= -->
<div id="paralelas" class="content">
  <div class="grid">
    <button onclick="alert('Paralelas continuam funcionando aqui')">
      Paralelas já configuradas
    </button>
  </div>
</div>

<script>
function openTab(evt,id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  evt.target.classList.add('active');
  document.getElementById(id).classList.add('active');
}

function atualizarPrefixo() {
  gerarInicio();
}

function gerarInicio() {
  const tipo = document.getElementById('tipo').value;
  const protocolo = document.getElementById('protocolo').value.trim();
  if (!protocolo) return;

  const inicio = `${tipo} PROTOCOLO: ${protocolo} - `;
  const campo = document.getElementById('comentario');

  if (!campo.value.startsWith(inicio)) {
    campo.value = inicio;
  }
}

function copiarComentario() {
  let texto = document.getElementById('comentario').value;
  texto = texto.replace(/\n/g, " "); // sem quebra de linha
  texto = texto.toUpperCase();

  navigator.clipboard.writeText(texto);
  alert("Comentário copiado!");
}
</script>

</body>
</html>
