<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Central de Atendimento</title>

<style>
body { font-family: Arial, sans-serif; margin:0; background:#f4f4f4; }
header { background:#2f3e46; color:#fff; padding:14px; text-align:center; font-weight:bold; }

.tabs { display:flex; background:#cad2c5; }
.tab { padding:10px 16px; cursor:pointer; border-right:1px solid #999; }
.tab.active { background:#fff; font-weight:bold; }

.content {
  display:none;
  padding:16px;
  background:#fff;
  height:calc(100vh - 90px);
  overflow-y:auto;
}
.content.active { display:block; }

.grid { display:grid; grid-template-columns:1fr; gap:10px; }

button {
  padding:12px;
  cursor:pointer;
  font-size:14px;
}

label {
  font-weight:bold;
  display:block;
  margin-top:10px;
}

input, textarea {
  width:100%;
  padding:8px;
  margin-top:4px;
  box-sizing:border-box;
}

textarea { resize:vertical; }

.btn-full {
  width:100%;
  margin-top:14px;
  background:#2f3e46;
  color:#fff;
  border:none;
  font-weight:bold;
}

.presets {
  display:grid;
  grid-template-columns:1fr;
  gap:8px;
  margin-top:12px;
}
</style>
</head>

<body>

<header>CENTRAL DE ATENDIMENTO</header>

<div class="tabs">
  <div class="tab active" onclick="openTab(event,'comentarios')">Comentários</div>
  <div class="tab" onclick="openTab(event,'paralelas')">Paralelas</div>
</div>

<!-- ================= COMENTÁRIOS ================= -->
<div id="comentarios" class="content active">

  <label>Protocolo</label>
  <input id="protocolo" placeholder="Digite o protocolo" oninput="gerarInicio()">

  <label>Comentário</label>
  <textarea id="comentario" rows="4"
    placeholder="Digite ou use os botões abaixo"></textarea>

  <div class="presets">
    <button onclick="usarPreset('2ª FATURA ENVIADA')">2ª FATURA ENVIADA</button>
    <button onclick="usarPreset('VERIFICAÇÃO SITUAÇÃO ABASTECIMENTO – EXECUTADA')">
      VERIFICAÇÃO SITUAÇÃO ABASTECIMENTO – EXECUTADA
    </button>
    <button onclick="usarPreset('INFORMA FALTA DE ÁGUA – ABERTURA DE SOLICITAÇÃO')">
      INFORMA FALTA DE ÁGUA – ABERTURA DE SOLICITAÇÃO
    </button>
  </div>

  <button class="btn-full" onclick="copiarComentario()">COPIAR COMENTÁRIO</button>

</div>

<!-- ================= PARALELAS ================= -->
<div id="paralelas" class="content">
  <p>Paralelas permanecem como já configuradas.</p>
</div>

<script>
// CONFIG FIXA (por enquanto)
let tipoAtendimento = "CALL CENTER";

function openTab(evt,id){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  evt.target.classList.add('active');
  document.getElementById(id).classList.add('active');
}

function gerarInicio() {
  const protocolo = document.getElementById('protocolo').value.trim();
  if (!protocolo) return;

  const inicio = `${tipoAtendimento} PROTOCOLO: ${protocolo} - `;
  const campo = document.getElementById('comentario');

  if (!campo.value.startsWith(inicio)) {
    campo.value = inicio;
  }
}

function usarPreset(texto) {
  const campo = document.getElementById('comentario');
  let atual = campo.value;

  if (!atual.includes(" - ")) return;

  if (!atual.endsWith(" ")) atual += " ";

  campo.value = atual + texto;
}

function copiarComentario() {
  let texto = document.getElementById('comentario').value;
  texto = texto.replace(/\n/g, " ");
  texto = texto.toUpperCase();

  navigator.clipboard.writeText(texto);
  alert("Comentário copiado!");
}
</script>

</body>
</html>
